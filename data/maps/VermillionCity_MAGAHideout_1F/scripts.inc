VermillionCity_MAGAHideout_1F_MapScripts::
	map_script MAP_SCRIPT_ON_LOAD, VermillionCity_MAGAHideout_1F_OnLoad
	.byte 0

VermillionCity_MAGAHideout_1F_OnLoad:
	compare VAR_MAGA_HIDEOUT_GENERATOR_STATE, 0
	goto_if_gt VermillionCity_MAGAHideout_1F_EventScript_RevealHiddenStaircaseOnLoad
	end

VermillionCity_MAGAHideout_1F_EventScript_RevealHiddenStaircaseOnLoad:
	setmetatile 31, 29, METATILE_Facility_NewMauvilleDoor_Open_Tile0 , 1
	setmetatile 32, 29, METATILE_Facility_NewMauvilleDoor_Open_Tile1 , 1
	setmetatile 33, 29, METATILE_Facility_NewMauvilleDoor_Open_Tile2 , 1
	setmetatile 31, 30, METATILE_Facility_NewMauvilleDoor_Open_Tile3 , 1
	setmetatile 32, 30, METATILE_Facility_NewMauvilleDoor_Open_Tile4 , 0
	setmetatile 33, 30, METATILE_Facility_NewMauvilleDoor_Open_Tile5 , 1
	special DrawWholeMapView
	release
	end

VermillionCity_MAGAHideout_1F_EventScript_Generator1::
lock
	goto_if_set FLAG_TURNED_OFF_GENERATOR_1, VermillionCity_MAGAHideout_1F_EventScript_GeneratorAlreadyOff
	msgbox VermillionCity_MAGAHideout_1F_Text_YouTurnedOffTheGenerator, MSGBOX_AUTOCLOSE
	setflag FLAG_TURNED_OFF_GENERATOR_1
	call VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheck1F
release
end

VermillionCity_MAGAHideout_1F_EventScript_Generator2::
lock
	goto_if_set FLAG_TURNED_OFF_GENERATOR_2, VermillionCity_MAGAHideout_1F_EventScript_GeneratorAlreadyOff
	msgbox VermillionCity_MAGAHideout_1F_Text_YouTurnedOffTheGenerator, MSGBOX_AUTOCLOSE
	setflag FLAG_TURNED_OFF_GENERATOR_2
	call VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheck1F
release
end

VermillionCity_MAGAHideout_1F_EventScript_Generator3::
lock
	goto_if_set FLAG_TURNED_OFF_GENERATOR_3, VermillionCity_MAGAHideout_1F_EventScript_GeneratorAlreadyOff
	msgbox VermillionCity_MAGAHideout_1F_Text_YouTurnedOffTheGenerator, MSGBOX_AUTOCLOSE
	setflag FLAG_TURNED_OFF_GENERATOR_3
	call VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheck1F
release
end

VermillionCity_MAGAHideout_1F_EventScript_Generator4::
lock
	goto_if_set FLAG_TURNED_OFF_GENERATOR_4, VermillionCity_MAGAHideout_1F_EventScript_GeneratorAlreadyOff
	msgbox VermillionCity_MAGAHideout_1F_Text_YouTurnedOffTheGenerator, MSGBOX_AUTOCLOSE
	setflag FLAG_TURNED_OFF_GENERATOR_4
	call VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheck1F
release
end

VermillionCity_MAGAHideout_1F_EventScript_Generator5::
lock
	goto_if_set FLAG_TURNED_OFF_GENERATOR_5, VermillionCity_MAGAHideout_1F_EventScript_GeneratorAlreadyOff
	msgbox VermillionCity_MAGAHideout_1F_Text_YouTurnedOffTheGenerator, MSGBOX_AUTOCLOSE
	setflag FLAG_TURNED_OFF_GENERATOR_5
	call VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheck1F
release
end

VermillionCity_MAGAHideout_1F_EventScript_Generator6::
lock
	goto_if_set FLAG_TURNED_OFF_GENERATOR_6, VermillionCity_MAGAHideout_1F_EventScript_GeneratorAlreadyOff
	msgbox VermillionCity_MAGAHideout_1F_Text_YouTurnedOffTheGenerator, MSGBOX_AUTOCLOSE
	setflag FLAG_TURNED_OFF_GENERATOR_6
	call VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheck1F
release
end

VermillionCity_MAGAHideout_1F_EventScript_Generator7::
lock
	goto_if_set FLAG_TURNED_OFF_GENERATOR_7, VermillionCity_MAGAHideout_1F_EventScript_GeneratorAlreadyOff
	msgbox VermillionCity_MAGAHideout_1F_Text_YouTurnedOffTheGenerator, MSGBOX_AUTOCLOSE
	setflag FLAG_TURNED_OFF_GENERATOR_7
	call VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheck1F
release
end

VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheck1F:
	compare VAR_MAGA_HIDEOUT_GENERATOR_STATE, 3
	goto_if_eq VermillionCity_MAGAHideout_1F_EventScript_End
	goto_if_unset FLAG_TURNED_OFF_GENERATOR_1, VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheckFail
	goto_if_unset FLAG_TURNED_OFF_GENERATOR_2, VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheckFail
	goto_if_unset FLAG_TURNED_OFF_GENERATOR_3, VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheckFail
	goto_if_unset FLAG_TURNED_OFF_GENERATOR_4, VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheckFail
	goto_if_unset FLAG_TURNED_OFF_GENERATOR_5, VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheckFail
	goto_if_unset FLAG_TURNED_OFF_GENERATOR_6, VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheckFail
	goto_if_unset FLAG_TURNED_OFF_GENERATOR_7, VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheckFail
	goto_if_unset FLAG_TURNED_OFF_GENERATOR_8, VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheckFail
	goto_if_unset FLAG_TURNED_OFF_GENERATOR_9, VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheckFail
	goto_if_unset FLAG_TURNED_OFF_GENERATOR_10, VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheckFail
	goto_if_unset FLAG_TURNED_OFF_GENERATOR_11, VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheckFail
	setvar VAR_MAGA_HIDEOUT_GENERATOR_STATE, 1
	getplayerxy VAR_PLAYER_X, VAR_PLAYER_Y
	warpsilent MAP_VERMILLION_CITY_MAGAHIDEOUT_1F_CUTSCENE, 255, 32, 32
	release
	end

VermillionCity_MAGAHideout_1F_EventScript_AllGeneratorsOffCheckFail:
	return

VermillionCity_MAGAHideout1F_EventScript_Mark::
	trainerbattle_single TRAINER_GRUNT_MAGA_HIDEOUT_1, MAGAHideout1F_Text_MarkIntro, MAGAHideout1F_Text_MarkDefeated
	msgbox MAGAHideout1F_Text_MarkPostBattle, MSGBOX_AUTOCLOSE
	end

VermillionCity_MAGAHideout1F_EventScript_Ella::
	trainerbattle_single TRAINER_GRUNT_MAGA_HIDEOUT_2, MAGAHideout1F_Text_EllaIntro, MAGAHideout1F_Text_EllaDefeated
	msgbox MAGAHideout1F_Text_EllaPostBattle, MSGBOX_AUTOCLOSE
	end

VermillionCity_MAGAHideout1F_EventScript_Theo::
	trainerbattle_single TRAINER_GRUNT_MAGA_HIDEOUT_3, MAGAHideout1F_Text_TheoIntro, MAGAHideout1F_Text_TheoDefeated
	msgbox MAGAHideout1F_Text_TheoPostBattle, MSGBOX_AUTOCLOSE
	end

VermillionCity_MAGAHideout1F_EventScript_Lara::
	trainerbattle_single TRAINER_GRUNT_MAGA_HIDEOUT_4, MAGAHideout1F_Text_LaraIntro, MAGAHideout1F_Text_LaraDefeated
	msgbox MAGAHideout1F_Text_LaraPostBattle, MSGBOX_AUTOCLOSE
	end

VermillionCity_MAGAHideout1F_EventScript_Vince::
	trainerbattle_single TRAINER_GRUNT_MAGA_HIDEOUT_5, MAGAHideout1F_Text_VinceIntro, MAGAHideout1F_Text_VinceDefeated
	msgbox MAGAHideout1F_Text_VincePostBattle, MSGBOX_AUTOCLOSE
	end

VermillionCity_MAGAHideout1F_EventScript_Mia::
	trainerbattle_single TRAINER_GRUNT_MAGA_HIDEOUT_6, MAGAHideout1F_Text_MiaIntro, MAGAHideout1F_Text_MiaDefeated
	msgbox MAGAHideout1F_Text_MiaPostBattle, MSGBOX_AUTOCLOSE
	end
	
VermillionCity_MAGAHideout1F_EventScript_Nate::
	trainerbattle_single TRAINER_GRUNT_MAGA_HIDEOUT_7,MAGAHideout1F_Text_NateIntro, MAGAHideout1F_Text_NateDefeated
	msgbox MAGAHideout1F_Text_NatePostBattle, MSGBOX_AUTOCLOSE
	end

MAGAHideout1F_EventScript_Malcolm::
	trainerbattle_single TRAINER_DYLAN_4, MAGAHideout1F_Text_MalcolmIntro, MAGAHideout1F_Text_MalcolmDefeated
	msgbox MAGAHideout1F_Text_MalcolmPostBattle, MSGBOX_AUTOCLOSE
	end

MAGAHideout1F_EventScript_Fiona::
	trainerbattle_single TRAINER_BENJAMIN_5, MAGAHideout1F_Text_FionaIntro, MAGAHideout1F_Text_FionaDefeated
	msgbox MAGAHideout1F_Text_FionaPostBattle, MSGBOX_AUTOCLOSE
	end

MAGAHideout1F_EventScript_Victor::
	trainerbattle_single TRAINER_JASMINE, MAGAHideout1F_Text_VictorIntro, MAGAHideout1F_Text_VictorDefeated
	msgbox MAGAHideout1F_Text_VictorPostBattle, MSGBOX_AUTOCLOSE
	end

MAGAHideout1F_EventScript_Sylvia::
	trainerbattle_single TRAINER_ABIGAIL_2, MAGAHideout1F_Text_SylviaIntro, MAGAHideout1F_Text_SylviaDefeated
	msgbox MAGAHideout1F_Text_SylviaPostBattle, MSGBOX_AUTOCLOSE
	end

MAGAHideout1F_EventScript_Theo::
	trainerbattle_single TRAINER_ABIGAIL_3, MAGAHideout1F_Text_TheoIntro, MAGAHideout1F_Text_TheoDefeated
	msgbox MAGAHideout1F_Text_TheoPostBattle, MSGBOX_AUTOCLOSE
	end

MAGAHideout1F_EventScript_Lydia::
	trainerbattle_single TRAINER_ABIGAIL_4, MAGAHideout1F_Text_LydiaIntro, MAGAHideout1F_Text_LydiaDefeated
	msgbox MAGAHideout1F_Text_LydiaPostBattle, MSGBOX_AUTOCLOSE
	end

MAGAHideout1F_EventScript_Nolan::
	trainerbattle_single TRAINER_ABIGAIL_5, MAGAHideout1F_Text_NolanIntro, MAGAHideout1F_Text_NolanDefeated
	msgbox MAGAHideout1F_Text_NolanPostBattle, MSGBOX_AUTOCLOSE
	end

MAGAHideout1F_EventScript_Iris::
	trainerbattle_single TRAINER_DYLAN_1, MAGAHideout1F_Text_IrisIntro, MAGAHideout1F_Text_IrisDefeated
	msgbox MAGAHideout1F_Text_IrisPostBattle, MSGBOX_AUTOCLOSE
	end

MAGAHideout1F_EventScript_Clara::
	trainerbattle_single TRAINER_DYLAN_2, MAGAHideout1F_Text_ClaraIntro, MAGAHideout1F_Text_ClaraDefeated
	msgbox MAGAHideout1F_Text_ClaraPostBattle, MSGBOX_AUTOCLOSE
	end

MAGAHideout1F_EventScript_Lyris::
	trainerbattle_single TRAINER_DYLAN_3, MAGAHideout1F_Text_LyrisIntro, MAGAHideout1F_Text_LyrisDefeated
	msgbox MAGAHideout1F_Text_LyrisPostBattle, MSGBOX_AUTOCLOSE
	end

VermillionCity_MAGAHideout_1F_EventScript_GeneratorAlreadyOff:
	msgbox VermillionCity_MAGAHideout_1F_Text_GeneratorAlreadyOff, MSGBOX_AUTOCLOSE
release
end

VermillionCity_MAGAHideout_1F_Text_GeneratorAlreadyOff:
	.string "You've already shut the generator off!$"

VermillionCity_MAGAHideout_1F_Text_YouTurnedOffTheGenerator:
	.string "{PLAYER} turned off the generator!$"

